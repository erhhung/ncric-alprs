# this file will be merged with "cwagent-main.yaml"

metrics:
  metrics_collected:
    disk:
      resources:
        - /
        - /opt/postgresql
        - /opt/postgresql/temp
    diskio:
      resources:
        - nvme0n1p1
        - nvme1n1
        - nvme2n1

logs:
  logs_collected:
    files:
      collect_list:
        - file_path: /var/log/postgresql/*.log
          log_group_name: astrometrics
          log_stream_name: postgresql
          retention_in_days: 30
        - file_path: /opt/postgresql/jobs/backup-all.log
          log_group_name: astrometrics
          log_stream_name: pg_backup_all
          retention_in_days: 90
        - file_path: /opt/postgresql/jobs/backup-flock.log
          log_group_name: astrometrics
          log_stream_name: pg_backup_flock
          retention_in_days: 90
        - file_path: /opt/postgresql/jobs/drop-temps.log
          log_group_name: astrometrics
          log_stream_name: pg_drop_temps
          retention_in_days: 90
